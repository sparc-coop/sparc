@page "/blog/{slug}"

<article class="blog-post">
    <header>
        @if (!string.IsNullOrEmpty(GetTag("title")))
        {
            <h1>@GetTag("title")</h1>
        }
        else
        {
            <h1 class="placeholder">Type your Title here</h1>
        }

        @if (!string.IsNullOrEmpty(GetTag("author")))
        {
            <aside>@GetTag("author")</aside>
        }
        else
        {
            <aside class="placeholder">Type your Name here</aside>
        }

        <time datetime="@(DateTime.Now.ToString("O"))">
            @DateTime.Now.ToString("MMMM d, yyyy")
        </time>
    </header>

    <figure>
        @if (!string.IsNullOrEmpty(GetTag("imageUrl")))
        {
            <img src="@GetTag("imageUrl")" alt="@GetTag("title")" />
        }
        else
        {
            <img src="https://example.com/default-image.jpg" alt="Default Image" class="placeholder" />
        }
    </figure>

    <section class="content">
        @if (!string.IsNullOrEmpty(GetTag("content")))
        {
            @GetTag("content")
        }
        else
        {
            <p class="placeholder">Type the content of the blog post here.</p>
        }
    </section>
</article>

@code {
    [Parameter] public string? Slug { get; set; }    

    private Kori.TagManager B { get; } = new Kori.TagManager();

    protected override void OnInitialized()
    {
        B["title"] = "Type your Title here";
        B["author"] = "Type your Name here";
        B["imageUrl"] = "https://example.com/image.jpg";
        B["content"] = "Type the content of the blog post here.";
    }

    private string GetTag(string key)
    {
        return B[key];
    }
}
